// Language translations
const translations = {
    pt: {
        'company-name': 'Casa Fernando',
        'nav-home': 'Início',
        'nav-about': 'Sobre Nós',
        'nav-services': 'Serviços',
        'nav-team': 'Equipa',
        'nav-contact': 'Contactos',
        'hero-title': 'Empresa Casa Fernando',
        'hero-subtitle': 'Construção Civil e Obras Públicas',
        'hero-description': 'Projetos residenciais e comerciais com qualidade garantida',
        'hero-cta': 'OBTER ORÇAMENTO',
        'about-title': 'Sobre a Casa Fernando',
        'about-subtitle': 'Construir com qualidade e compromisso',
        'history-title': 'A Nossa História',
        'history-text': 'A Casa Fernando é uma empresa angolana com sede em Cabinda, atuando nos sectores de construção civil, obras públicas, instalações elétricas e comércio geral (importação e exportação).',
        'history-text2': 'Iniciou sua trajetória no ramo comercial em 2017, expandindo suas atividades em 2020 para as áreas de engenharia e infraestrutura. Desde então, vem se destacando pela qualidade dos serviços, compromisso com os prazos e atendimento personalizado.',
        'founded': 'Fundada',
        'projects': 'Projetos',
        'employees': 'Funcionários',
        'mission-title': 'Missão',
        'mission-text': 'Oferecer soluções integradas e de qualidade nas áreas de construção civil, obras públicas, instalações elétricas e comércio geral, contribuindo para o desenvolvimento sustentável de Angola.',
        'vision-title': 'Visão',
        'vision-text': 'Ser uma referência nacional em engenharia e comércio, reconhecida pela excelência, inovação e compromisso com o desenvolvimento socioeconômico do país.',
        'values-title': 'Valores',
        'value-1': '• Qualidade e compromisso',
        'value-2': '• Transparência',
        'value-3': '• Responsabilidade social',
        'value-4': '• Profissionalismo',
        'value-5': '• Inovação contínua',
        'services-title': 'Os Nossos Serviços',
        'services-subtitle': 'Soluções completas para todos os seus projetos',
        'service1-title': 'Construção Civil',
        'service1-desc': 'Edifícios, moradias, fundações e reformas com os mais altos padrões de qualidade e segurança.',
        'service2-title': 'Obras Públicas',
        'service2-desc': 'Infraestruturas públicas, estradas, escolas, postos de saúde e residências para pessoas singulares.',
        'service3-title': 'Instalações Elétricas',
        'service3-desc': 'Instalações residenciais, comerciais e industriais com tecnologia avançada e segurança garantida.',
        'service4-title': 'Comércio Geral',
        'service4-desc': 'Venda de equipamentos e materiais de eletricidade de alta qualidade. Importação e exportação.',
        'team-title': 'Nossa Equipa',
        'team-subtitle': 'Profissionais experientes e dedicados ao sucesso dos seus projetos',
        'position-director': 'Director Geral',
        'position-hr': 'Recursos Humanos',
        'position-finance': 'Finanças',
        'position-accounting': 'Contabilidade',
        'position-support': 'Suporte Técnico',
        'position-it': 'Informação',
        'bio-luis': 'Líder visionário com experiência em gestão estratégica e desenvolvimento empresarial',
        'bio-jorgeta': 'Especialista em gestão de talentos e desenvolvimento organizacional',
        'bio-andre': 'Responsável pela gestão financeira e planeamento estratégico',
        'bio-victor': 'Especialista em contabilidade empresarial e conformidade fiscal',
        'bio-felix': 'Especialista em suporte técnico e manutenção de equipamentos',
        'bio-quelson': 'Responsável pelos sistemas de informação e tecnologia',
        'linkedin': 'LinkedIn',
        'contact-title': 'Entre em Contacto',
        'contact-subtitle': 'Estamos prontos para realizar o seu projeto',
        'contact-info': 'Informações de Contacto',
        'address': 'Endereço',
        'phone': 'Telefone',
        'social-media': 'Redes Sociais',
        'contact-form': 'Formulário de Contacto',
        'form-name': 'Nome',
        'form-subject': 'Assunto',
        'form-message': 'Mensagem',
        'form-send': 'Enviar Mensagem',
        'footer-desc': 'Construir com qualidade e compromisso. A sua parceira de confiança em construção civil, obras públicas e instalações elétricas.',
        'footer-availability': 'Estamos disponíveis a prestar serviços em qualquer município da província de Cabinda.',
        'footer-services': 'Serviços',
        'footer-contact': 'Contacto',
        'footer-copyright': '© 2024 Casa Fernando. Todos os direitos reservados.'
    },
    en: {
        'company-name': 'Casa Fernando',
        'nav-home': 'Home',
        'nav-about': 'About Us',
        'nav-services': 'Services',
        'nav-team': 'Team',
        'nav-contact': 'Contact',
        'hero-title': 'Casa Fernando Company',
        'hero-subtitle': 'Civil Construction and Public Works',
        'hero-description': 'Residential and commercial projects with guaranteed quality',
        'hero-cta': 'GET QUOTE',
        'about-title': 'About Casa Fernando',
        'about-subtitle': 'Building with quality and commitment',
        'history-title': 'Our History',
        'history-text': 'Casa Fernando is an Angolan company based in Cabinda, operating in the sectors of civil construction, public works, electrical installations and general commerce (import and export).',
        'history-text2': 'Started its trajectory in commercial business in 2017, expanding its activities in 2020 to the areas of engineering and infrastructure. Since then, it has been standing out for the quality of services, commitment to deadlines and personalized service.',
        'founded': 'Founded',
        'projects': 'Projects',
        'employees': 'Employees',
        'mission-title': 'Mission',
        'mission-text': 'To offer integrated and quality solutions in the areas of civil construction, public works, electrical installations and general commerce, contributing to the sustainable development of Angola.',
        'vision-title': 'Vision',
        'vision-text': 'To be a national reference in engineering and commerce, recognized for excellence, innovation and commitment to the socioeconomic development of the country.',
        'values-title': 'Values',
        'value-1': '• Quality and commitment',
        'value-2': '• Transparency',
        'value-3': '• Social responsibility',
        'value-4': '• Professionalism',
        'value-5': '• Continuous innovation',
        'services-title': 'Our Services',
        'services-subtitle': 'Complete solutions for all your projects',
        'service1-title': 'Civil Construction',
        'service1-desc': 'Buildings, houses, foundations and renovations with the highest standards of quality and safety.',
        'service2-title': 'Public Works',
        'service2-desc': 'Public infrastructure, roads, schools, health centers and residences for individuals.',
        'service3-title': 'Electrical Installations',
        'service3-desc': 'Residential, commercial and industrial installations with advanced technology and guaranteed safety.',
        'service4-title': 'General Commerce',
        'service4-desc': 'Sale of high-quality electrical equipment and materials. Import and export.',
        'team-title': 'Our Team',
        'team-subtitle': 'Experienced professionals dedicated to the success of your projects',
        'position-director': 'General Director',
        'position-hr': 'Human Resources',
        'position-finance': 'Finance',
        'position-accounting': 'Accounting',
        'position-support': 'Technical Support',
        'position-it': 'Information',
        'bio-luis': 'Visionary leader with experience in strategic management and business development',
        'bio-jorgeta': 'Specialist in talent management and organizational development',
        'bio-andre': 'Responsible for financial management and strategic planning',
        'bio-victor': 'Specialist in business accounting and tax compliance',
        'bio-felix': 'Specialist in technical support and equipment maintenance',
        'bio-quelson': 'Responsible for information systems and technology',
        'linkedin': 'LinkedIn',
        'contact-title': 'Get in Touch',
        'contact-subtitle': 'We are ready to realize your project',
        'contact-info': 'Contact Information',
        'address': 'Address',
        'phone': 'Phone',
        'social-media': 'Social Media',
        'contact-form': 'Contact Form',
        'form-name': 'Name',
        'form-subject': 'Subject',
        'form-message': 'Message',
        'form-send': 'Send Message',
        'footer-desc': 'Building with quality and commitment. Your trusted partner in civil construction, public works and electrical installations.',
        'footer-availability': 'We are available to provide services in any municipality of Cabinda province.',
        'footer-services': 'Services',
        'footer-contact': 'Contact',
        'footer-copyright': '© 2024 Casa Fernando. All rights reserved.'
    }
};

// Carousel Data
const slidesData = [
    {
        pt: {
            title: "Empresa Casa Fernando",
            subtitle: "Construção Civil e Obras Públicas",
            description: "Projetos residenciais e comerciais com qualidade garantida"
        },
        en: {
            title: "Casa Fernando Company",
            subtitle: "Civil Construction and Public Works",
            description: "Residential and commercial projects with guaranteed quality"
        }
    },
    {
        pt: {
            title: "Somos Especialistas",
            subtitle: "Instalações Elétricas Profissionais",
            description: "Linhas de média e baixa tensão, rebobinagem e manutenção eletro-industrial"
        },
        en: {
            title: "We Are Specialists",
            subtitle: "Professional Electrical Installations",
            description: "Medium and low voltage lines, rewinding and electro-industrial maintenance"
        }
    },
    {
        pt: {
            title: "Soluções Completas",
            subtitle: "Comércio Geral e Materiais de Construção",
            description: "Venda de materiais, equipamentos e soluções para construção civil"
        },
        en: {
            title: "Complete Solutions",
            subtitle: "General Commerce and Construction Materials",
            description: "Sale of materials, equipment and solutions for civil construction"
        }
    }
];

// Initialize
let currentLang = localStorage.getItem('language') || 'pt';
let currentSlide = 0;
let slideTimer;

document.addEventListener('DOMContentLoaded', function() {
    initializeLanguage();
    initializeCarousel();
    initializeTheme();
    initializeMobileMenu();
    initializeContactForm();
    initializeScrollEffects();
});

// Language Functions
function initializeLanguage() {
    updateLanguage(currentLang);
    setupLanguageToggle();
}

function setupLanguageToggle() {
    const languageOptions = document.querySelectorAll('.language-option');
    
    languageOptions.forEach(option => {
        option.addEventListener('click', () => {
            const lang = option.dataset.lang;
            if (lang !== currentLang) {
                currentLang = lang;
                localStorage.setItem('language', lang);
                updateLanguage(lang);
                updateCarouselText();
            }
        });
    });
}

function updateLanguage(lang) {
    // Update language toggle active state
    document.querySelectorAll('.language-option').forEach(option => {
        option.classList.toggle('active', option.dataset.lang === lang);
    });

    // Update all translatable elements
    document.querySelectorAll('[data-key]').forEach(element => {
        const key = element.dataset.key;
        if (translations[lang] && translations[lang][key]) {
            element.textContent = translations[lang][key];
        }
    });

    // Update HTML lang attribute
    document.documentElement.lang = lang === 'pt' ? 'pt-PT' : 'en';
}

// Carousel Functions
function initializeCarousel() {
    const slides = document.querySelectorAll('.slide');
    const dotsContainer = document.getElementById('carousel-dots');
    
    // Create dots
    slidesData.forEach((_, index) => {
        const dot = document.createElement('div');
        dot.className = `carousel-dot ${index === 0 ? 'active' : ''}`;
        dot.addEventListener('click', () => goToSlide(index));
        dotsContainer.appendChild(dot);
    });

    // Setup navigation
    document.getElementById('carousel-prev').addEventListener('click', prevSlide);
    document.getElementById('carousel-next').addEventListener('click', nextSlide);

    // Setup auto-play
    startAutoPlay();
    
    // Pause on hover
    const heroSection = document.querySelector('.hero-section');
    heroSection.addEventListener('mouseenter', stopAutoPlay);
    heroSection.addEventListener('mouseleave', startAutoPlay);

    // Initial text update
    updateCarouselText();
}

function goToSlide(index) {
    const slides = document.querySelectorAll('.slide');
    const dots = document.querySelectorAll('.carousel-dot');
    
    // Remove active classes
    slides[currentSlide].classList.remove('active');
    dots[currentSlide].classList.remove('active');
    
    // Set new slide
    currentSlide = index;
    
    // Add active classes
    slides[currentSlide].classList.add('active');
    dots[currentSlide].classList.add('active');
    
    // Update text
    updateCarouselText();
}

function nextSlide() {
    goToSlide((currentSlide + 1) % slidesData.length);
}

function prevSlide() {
    goToSlide((currentSlide - 1 + slidesData.length) % slidesData.length);
}

function startAutoPlay() {
    slideTimer = setInterval(nextSlide, 6000);
}

function stopAutoPlay() {
    clearInterval(slideTimer);
}

function updateCarouselText() {
    const slideData = slidesData[currentSlide][currentLang];
    document.getElementById('hero-title').textContent = slideData.title;
    document.getElementById('hero-subtitle').textContent = slideData.subtitle;
    document.getElementById('hero-description').textContent = slideData.description;
}

// Theme Functions
function initializeTheme() {
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');
    const body = document.body;
    
    // Get saved theme or default to light
    const savedTheme = localStorage.getItem('theme') || 'light';
    body.className = `theme-${savedTheme}`;
    themeIcon.className = savedTheme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
    
    themeToggle.addEventListener('click', () => {
        const isLight = body.classList.contains('theme-light');
        const newTheme = isLight ? 'dark' : 'light';
        
        body.className = `theme-${newTheme}`;
        themeIcon.className = newTheme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
        localStorage.setItem('theme', newTheme);
    });
}

// Mobile Menu
function initializeMobileMenu() {
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    
    mobileMenuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });
}

// Contact Form
function initializeContactForm() {
    const contactForm = document.getElementById('contact-form-element');
    
    contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        // Here you would typically send the form data to a server
        alert(currentLang === 'pt' ? 'Mensagem enviada com sucesso!' : 'Message sent successfully!');
        contactForm.reset();
    });
}

// Scroll Effects
function initializeScrollEffects() {
    const header = document.querySelector('.professional-header');
    
    window.addEventListener('scroll', () => {
        if (window.scrollY > 100) {
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });
}

// Hero CTA Button
document.getElementById('hero-cta').addEventListener('click', () => {
    document.getElementById('contactos').scrollIntoView({ behavior: 'smooth' });
});

// Smooth scrolling for navigation links
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        
        // Also close mobile menu if it's open
        const mobileMenu = document.getElementById('mobile-menu');
        if(!mobileMenu.classList.contains('hidden')) {
            mobileMenu.classList.add('hidden');
        }
        
        if (target) {
            target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    });
});